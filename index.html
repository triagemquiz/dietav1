
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Dieta Personalizada</title>
<style>
:root{
  --primary:#ff6f61;
  --primary-soft:#ffe9e6;
  --bg:#fff8f1;
  --card:#ffffff;
  --border:#e6e6e6;
  --text:#1f2a37;
}
*{box-sizing:border-box;font-family:Inter,Arial,sans-serif}
body{margin:0;background:var(--bg);color:var(--text)}
.header{background:#fff;padding:20px 24px;border-bottom:1px solid #eee}
.header h1{margin:0;font-size:28px;font-weight:700}
.progress-wrap{display:flex;align-items:center;gap:16px;margin-top:10px}
.progress{flex:1;height:8px;background:#eee;border-radius:20px;overflow:hidden}
.progress span{display:block;height:100%;background:var(--primary);width:12.5%}
.step{font-size:14px;color:#666}

.container{max-width:920px;margin:32px auto;padding:0 16px}
.card{
  background:var(--card);
  border-radius:16px;
  padding:40px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}
.question{font-size:26px;font-weight:700;margin-bottom:8px}
.underline{width:60px;height:4px;background:linear-gradient(90deg,var(--primary),#9ae6b4);border-radius:4px;margin-bottom:24px}

.options{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.option{
  border:2px solid var(--border);
  border-radius:12px;
  padding:18px;
  display:flex;
  align-items:center;
  gap:12px;
  cursor:pointer;
  transition:.2s;
}
.option:hover{border-color:var(--primary)}
.option input{accent-color:var(--primary)}
.option.active{border-color:var(--primary);background:var(--primary-soft)}

.actions{display:flex;justify-content:space-between;align-items:center;margin-top:32px}
.btn{
  padding:12px 20px;
  border-radius:10px;
  border:1px solid var(--border);
  background:#fff;
  cursor:pointer;
}
.btn.primary{
  background:var(--primary);
  color:#fff;
  border:none;
}
.dots{display:flex;justify-content:center;gap:8px;margin:24px 0}
.dot{width:10px;height:10px;border-radius:50%;background:#ddd}
.dot.active{background:var(--primary)}

.final{
  text-align:center;
  background:linear-gradient(180deg,#ff9a8b,#ff6f61);
  color:#fff;
}
.final .card{background:#fff;color:#000}
.summary{
  background:#f7e6d0;
  border-radius:12px;
  padding:16px;
  max-height:200px;
  overflow:auto;
  text-align:left;
}
.price{margin:20px 0;font-size:18px}
</style>
</head>
<body>

<div class="header">
  <h1>Quiz Dieta Personalizada</h1>
  <div class="progress-wrap">
    <div class="progress"><span id="bar"></span></div>
    <div class="step" id="step">1/8</div>
  </div>
</div>

<div class="container">
  <div class="card" id="card"></div>
  <div class="dots" id="dots"></div>
</div>

<script>
const paymentLink = "https://www.mercadopago.com.br/checkout/v1/payment/redirect/?source=link&preference-id=458668909-7c027914-15b4-4014-b75a-0a487d24dc5a&router-request-id=bfc8787c-75b8-4218-8b13-30c837638e69";

const questions = [
 {q:"Qual é o seu objetivo principal?",o:["Perder peso","Ganhar massa muscular","Manter peso","Melhorar saúde geral"]},
 {q:"Qual é o seu nível de atividade física?",o:["Sedentário","Leve (1-3 dias/semana)","Moderado (3-5 dias/semana)","Intenso (6-7 dias/semana)"]},
 {q:"Você tem alguma restrição alimentar?",o:["Nenhuma","Vegetariano","Vegano","Intolerância/Alergia"]},
 {q:"Quantas refeições você faz por dia?",o:["1-2 refeições","3 refeições","4-5 refeições","Mais de 5 refeições"]},
 {q:"Qual é a sua idade?",o:["Menos de 20 anos","20-30 anos","30-40 anos","Mais de 40 anos"]},
 {q:"Qual é o seu sexo?",o:["Masculino","Feminino","Prefiro não informar"]},
 {q:"Você tem alguma condição de saúde especial?",o:["Não","Diabetes","Hipertensão","Outra"]},
];

let step=0, answers=[];

function render(){
  const card=document.getElementById("card");
  document.getElementById("bar").style.width=((step+1)/8*100)+"%";
  document.getElementById("step").innerText=(step+1)+"/8";
  document.getElementById("dots").innerHTML=[...Array(8)].map((_,i)=>`<div class="dot ${i<=step?'active':''}"></div>`).join("");

  const q=questions[step];
  card.innerHTML=`
    <div class="question">${q.q}</div>
    <div class="underline"></div>
    <div class="options">
      ${q.o.map((o,i)=>`
        <div class="option ${answers[step]==o?'active':''}" onclick="select('${o}')">
          <input type="radio" ${answers[step]==o?'checked':''}>
          <span>${o}</span>
        </div>`).join("")}
    </div>
    <div class="actions">
      <button class="btn" onclick="prev()">Anterior</button>
      <button class="btn primary" onclick="next()">Próxima ›</button>
    </div>`;
}

function select(o){answers[step]=o;render();}
function next(){
  if(!answers[step]) return;
  step++;
  if(step<questions.length) render();
  else finish();
}
function prev(){ if(step>0){step--;render();}}

function finish(){
  document.body.innerHTML=`
  <div class="container final">
    <div class="card">
      <h2>Parabéns!</h2>
      <p>Seu quiz foi concluído com sucesso.</p>
      <div class="summary">
        ${questions.map((q,i)=>`<p><strong>${q.q}</strong><br>${answers[i]}</p>`).join("")}
      </div>
      <div class="price"><strong>Investimento: R$ 9,99</strong></div>
      <button class="btn" onclick="location.reload()">Refazer Quiz</button>
      <button class="btn primary" onclick="window.location.href='${paymentLink}'">Pagar e Receber Dieta ›</button>
    </div>
  </div>`;
}

render();
</script>
</body>
</html>
